<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title>testpost</title>
      <link href="/2018/04/18/testpost/"/>
      <url>/2018/04/18/testpost/</url>
      <content type="html"><![CDATA[]]></content>
      
      
    </entry>
    
    <entry>
      <title>Publishing cli-package to npm repository</title>
      <link href="/2018/03/18/pub-clipkg-npm-repo/"/>
      <url>/2018/03/18/pub-clipkg-npm-repo/</url>
      <content type="html"><![CDATA[<p>好奇一些第三方的 node 命令行工具是如何制作与发布的，于是研究了下以便以后发布自己的命令行工具作为参考</p><a id="more"></a><h2 id="定义-package-json-需要的字段"><a href="#定义-package-json-需要的字段" class="headerlink" title="定义 package.json 需要的字段"></a>定义 <code>package.json</code> 需要的字段</h2><ul><li>cli名称 <code>sepcontacto</code></li><li>版本号 <code>1.0.0</code></li><li>指定 cli 入口 <code>&quot;bin&quot;: &quot;./contact.js&quot;</code></li><li>preferGlobal</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"name"</span>: <span class="string">"sepcontacto"</span>,</span><br><span class="line">  <span class="string">"version"</span>: <span class="string">"1.0.0"</span>,</span><br><span class="line">  <span class="string">"license"</span>: <span class="string">"MIT"</span>,</span><br><span class="line">  <span class="string">"description"</span>: <span class="string">"A command-line contact management system"</span>,</span><br><span class="line">  <span class="string">"preferGlobal"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="string">"bin"</span>: <span class="string">"./contact.js"</span>,</span><br><span class="line">  <span class="string">"dependencies"</span>: &#123;</span><br><span class="line">    <span class="string">"commander"</span>: <span class="string">"^2.15.1"</span>,</span><br><span class="line">    <span class="string">"inquirer"</span>: <span class="string">"^5.2.0"</span>,</span><br><span class="line">    <span class="string">"mongoose"</span>: <span class="string">"^4.9.2"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="注册账号"><a href="#注册账号" class="headerlink" title="注册账号"></a>注册账号</h2><p>在 npmjs.com 注册账号后</p><p>在 <a href="https://www.npmjs.com/~septenary" target="_blank" rel="noopener">https://www.npmjs.com/~septenary</a> 可以查看自己账号下发布的 package</p><h2 id="给-npm-配置账号信息"><a href="#给-npm-配置账号信息" class="headerlink" title="给 npm 配置账号信息"></a>给 npm 配置账号信息</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm adduser</span><br></pre></td></tr></table></figure><h2 id="发布-package"><a href="#发布-package" class="headerlink" title="发布 package"></a>发布 package</h2><p>cd 到要发布的 package 目录下，执行</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm publish</span><br></pre></td></tr></table></figure><p>再去 <a href="https://www.npmjs.com/~septenary" target="_blank" rel="noopener">https://www.npmjs.com/~septenary</a> 可以看到 package 已经发布成功</p><h2 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h2><p>发布成功后，就可以想普通 package 那样安装自己的包了</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install sepcontacto -g</span><br></pre></td></tr></table></figure><p>你会看到 我们的 cli 添加到了 /usr/local/bin 中</p><blockquote><p>/usr/local/bin/sepcontacto</p></blockquote><p>接下来就可以愉快玩耍 cli 了</p><hr><p>参考: </p><ul><li><a href="https://docs.npmjs.com/getting-started/publishing-npm-packages" target="_blank" rel="noopener">https://docs.npmjs.com/getting-started/publishing-npm-packages</a></li><li><a href="https://scotch.io/tutorials/build-an-interactive-command-line-application-with-nodejs" target="_blank" rel="noopener">https://scotch.io/tutorials/build-an-interactive-command-line-application-with-nodejs</a></li></ul>]]></content>
      
      <categories>
          
          <category> node </category>
          
      </categories>
      
      
        <tags>
            
            <tag> cli </tag>
            
        </tags>
      
    </entry>
    
  
  
</search>
